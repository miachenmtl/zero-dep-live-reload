<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Zero-Dependency Live Reload</title>

  <meta name="author" content="">
  <meta name="description" content="">
  <style>
    /****************************************************
     * Add CSS here                                     *
     ****************************************************/
  </style>
</head>

<body>
<!-- ****************************************************
     * Add HTML                                         *
     ****************************************************-->
  <div>
    <h1>
      Lorem Ipsum
    </h1>
  </div>
  <script>
    /****************************************************
     * Add JavaScript here                              *
     ****************************************************/
  </script>
  <!-- JS for Live Reload -->
  <script>
    const webSocket = new WebSocket("ws://localhost:8888");
    webSocket.onmessage = function ({ data }) {
      if (data === ':)') {
        webSocket.close();
        window.location.reload();
      }
      else console.log(`Unexpected data received: ${data}.`)
    }
    webSocket.onopen = () => { console.log('WebSocket connection opened!'); };
    webSocket.onerror = (event) => { console.log(`WebSocket connection error: ${event}`); };
    webSocket.onclose = () => { console.log('WebSocket connection closed!'); };
  </script>
</body>
</html>
